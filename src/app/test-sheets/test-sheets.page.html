<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/folder"></ion-back-button>
    </ion-buttons>
    <ion-title>Prueba Google Sheets</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="test-container">
    <h1>ðŸ§ª Prueba de ConexiÃ³n</h1>
    
    <!-- Botones de prueba -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Acciones</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-button expand="block" (click)="loadUsers()" [disabled]="loading">
          ðŸ“¥ Cargar Usuarios
        </ion-button>
        <ion-button expand="block" color="success" (click)="testCreate()" [disabled]="loading">
          âž• Crear Usuario de Prueba
        </ion-button>
      </ion-card-content>
    </ion-card>

    <!-- Loading -->
    <div *ngIf="loading" class="loading-container">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Cargando...</p>
    </div>

    <!-- Mensajes -->
    <ion-card *ngIf="success" color="success">
      <ion-card-content>
        <ion-text color="light">
          <strong>âœ“ {{ success }}</strong>
        </ion-text>
      </ion-card-content>
    </ion-card>

    <ion-card *ngIf="error" color="danger">
      <ion-card-content>
        <ion-text color="light">
          <strong>âœ— {{ error }}</strong>
        </ion-text>
      </ion-card-content>
    </ion-card>

    <!-- Lista de usuarios -->
    <ion-card *ngIf="usuarios.length > 0">
      <ion-card-header>
        <ion-card-title>Usuarios Registrados ({{ usuarios.length }})</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let user of usuarios">
            <ion-label>
              <h2>{{ user.Nombres }} {{ user.Apellidos }}</h2>
              <p>CÃ©dula: {{ user.Cedula }}</p>
              <p>Email: {{ user.Email }}</p>
              <p>TelÃ©fono: {{ user.Telefono }}</p>
              <p class="fecha">Registrado: {{ user.Fecha_Registro }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card *ngIf="!loading && usuarios.length === 0 && !error">
      <ion-card-content>
        <ion-text color="medium">
          <p>No hay usuarios registrados. Haz clic en "Crear Usuario de Prueba" para agregar uno.</p>
        </ion-text>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>